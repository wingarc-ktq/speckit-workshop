# ファイル一覧

## ファイル一覧が正しく表示されること

### 前提条件

- ログイン済みであること
- システムにファイルデータが存在すること

### 手順

1. `/files` ページにアクセスする
2. ファイル一覧テーブルが表示されること
3. テーブルのヘッダーに「ファイル名」「カテゴリー」「サイズ」「更新日時」「操作」が表示されること
4. テーブルにファイルデータが表示されること
5. 各ファイル行に削除ボタンが表示されること

## ファイル名で検索できること

### データ

| 検索キーワード | 期待される結果                            |
| -------------- | ----------------------------------------- |
| 請求書         | 「請求書」を含むファイルのみが表示される  |
| 田中           | 「田中」を含むファイルのみが表示される    |
| 202401         | 「202401」を含むファイルのみが表示される  |

### 前提条件

- ログイン済みであること
- ファイル一覧ページにアクセスしていること

### 手順

1. 検索ボックスに検索キーワードを入力する
2. 検索キーワードを含むファイルのみが表示されること
3. 検索結果の件数が正しいこと

## 検索をクリアできること

### 前提条件

- ログイン済みであること
- ファイル一覧ページにアクセスしていること
- 検索キーワードが入力されており、検索結果が絞り込まれている状態

### 手順

1. 検索ボックスの内容をクリアする
2. すべてのファイルが表示されること
3. 表示件数が元に戻ること

## カテゴリーでフィルタリングできること

### データ

| カテゴリー | 期待される結果                               |
| ---------- | -------------------------------------------- |
| 重要       | カテゴリーに「重要」を含むファイルが表示     |
| 学校       | カテゴリーに「学校」を含むファイルが表示     |
| お知らせ   | カテゴリーに「お知らせ」を含むファイルが表示 |

### 前提条件

- ログイン済みであること
- ファイル一覧ページにアクセスしていること
- 複数のカテゴリーのファイルが存在すること

### 手順

1. カテゴリーフィルターを選択する
2. 選択したカテゴリーのファイルのみが表示されること
3. 他のカテゴリーのファイルが非表示になること

## ファイルサイズでソートできること

### 前提条件

- ログイン済みであること
- ファイル一覧ページにアクセスしていること
- サイズが異なる複数のファイルが存在すること

### 手順

1. 「サイズ」列のヘッダーをクリックする
2. ファイルがサイズの昇順でソートされること
3. 再度「サイズ」列のヘッダーをクリックする
4. ファイルがサイズの降順でソートされること

## 更新日時でソートできること

### 前提条件

- ログイン済みであること
- ファイル一覧ページにアクセスしていること
- 更新日時が異なる複数のファイルが存在すること

### 手順

1. 「更新日時」列のヘッダーをクリックする
2. ファイルが更新日時の昇順でソートされること
3. 再度「更新日時」列のヘッダーをクリックする
4. ファイルが更新日時の降順でソートされること

## ファイル名でソートできること

### 前提条件

- ログイン済みであること
- ファイル一覧ページにアクセスしていること

### 手順

1. 「ファイル名」列のヘッダーをクリックする
2. ファイルがファイル名の昇順（50音順）でソートされること
3. 再度「ファイル名」列のヘッダーをクリックする
4. ファイルがファイル名の降順でソートされること

## 個別ファイルを削除できること

### 前提条件

- ログイン済みであること
- ファイル一覧ページにアクセスしていること
- 削除対象のファイルが存在すること

### 手順

1. 削除したいファイルの行の削除ボタンをクリックする
2. 削除確認ダイアログが表示されること
3. ダイアログで削除を確認する
4. ファイルが一覧から削除されること
5. 削除成功のメッセージが表示されること

### 事後処理

- テスト環境のデータを元の状態に戻す

## 複数ファイルを一括削除できること

### 前提条件

- ログイン済みであること
- ファイル一覧ページにアクセスしていること
- 削除対象のファイルが複数存在すること

### 手順

1. 削除したいファイルのチェックボックスを複数選択する
2. 選択した件数が表示されること（例: 「選択した3件をごみ箱へ」）
3. 一括削除ボタンをクリックする
4. 削除確認ダイアログが表示されること
5. ダイアログで削除を確認する
6. 選択したファイルが一覧から削除されること
7. 削除成功のメッセージが表示されること

### 事後処理

- テスト環境のデータを元の状態に戻す

## 新しいファイルをアップロードできること

### データ

| ファイル名      | ファイルタイプ | ファイルサイズ |
| --------------- | -------------- | -------------- |
| test-upload.pdf | application/pdf | 100 KB         |

### 前提条件

- ログイン済みであること
- ファイル一覧ページにアクセスしていること

### 手順

1. 「おたよりを追加」ボタンをクリックする
2. ファイルアップロードダイアログが表示されること
3. ファイルを選択する
4. 必要な情報（カテゴリーなど）を入力する
5. アップロードボタンをクリックする
6. アップロード成功のメッセージが表示されること
7. ファイル一覧にアップロードしたファイルが表示されること

### 事後処理

- アップロードしたテストファイルを削除する

## タグ管理画面に遷移できること

### 前提条件

- ログイン済みであること
- ファイル一覧ページにアクセスしていること

### 手順

1. 「タグ管理」ボタンをクリックする
2. タグ管理画面に遷移すること

## ごみ箱画面に遷移できること

### 前提条件

- ログイン済みであること
- ファイル一覧ページにアクセスしていること

### 手順

1. 「ごみ箱」ボタンをクリックする
2. ごみ箱画面に遷移すること
3. 削除されたファイルの一覧が表示されること

## 検索結果が空の場合に適切なメッセージが表示されること

### データ

| 検索キーワード | 期待される結果       |
| -------------- | -------------------- |
| 存在しない文字列xyz123 | 検索結果が0件 |

### 前提条件

- ログイン済みであること
- ファイル一覧ページにアクセスしていること

### 手順

1. 検索ボックスに存在しないキーワードを入力する
2. 検索結果が0件であること
3. 「該当するファイルが見つかりません」などの適切なメッセージが表示されること

## ページング機能が正しく動作すること

### 前提条件

- ログイン済みであること
- ファイル一覧ページにアクセスしていること
- 1ページの表示件数を超えるファイルが存在すること

### 手順

1. ページネーション（ページ番号）が表示されること
2. 「次へ」ボタンをクリックする
3. 次のページのファイルが表示されること
4. ページ番号が更新されること
5. 「前へ」ボタンをクリックする
6. 前のページのファイルが表示されること
7. 特定のページ番号をクリックする
8. そのページのファイルが表示されること
